<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="368px" preserveAspectRatio="none" style="width:1592px;height:368px;background:#FFFFFF;" version="1.1" viewBox="0 0 1592 368" width="1592px" zoomAndPan="magnify"><defs/><g><rect height="26.2969" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="71" x="753.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="61" x="758.5" y="22.9951">Étape 3</text><!--MD5=[ea753ca1abf7a94a4cfc8e8263bc1d79]
cluster Tests--><g id="cluster_Tests"><rect fill="#E55039" height="121" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="146" x="7" y="96.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="46" x="57" y="111.292">Tests</text></g><!--MD5=[81d8fddc0472df4f6601fb2b1deb463c]
cluster Domaine--><g id="cluster_Domaine"><path d="M224,202.2969 L357,43.2969 L1155,43.2969 L1288,202.2969 L1155,361.2969 L357,361.2969 L224,202.2969 " fill="#FFFFFF" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="70" x="721" y="58.292">Domaine</text></g><!--MD5=[67f432cef3e5a62b9f5e3b502eaa3775]
cluster Port primaire--><g id="cluster_Port primaire"><rect fill="#FFFFFF" height="141" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="438" x="248" y="86.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108" x="413" y="101.292">Port primaire</text></g><!--MD5=[807a62717be71470e6dc66073b340ed5]
cluster Port secondaire--><g id="cluster_Port secondaire"><rect fill="#FFFFFF" height="150" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="221" x="1043" y="86.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="128" x="1089.5" y="101.292">Port secondaire</text></g><!--MD5=[a1b7894186f957357ad20b916ccd4b1a]
cluster Bouchons--><g id="cluster_Bouchons"><rect fill="#E55039" height="150" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="265" x="1321" y="86.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="79" x="1414" y="101.292">Bouchons</text></g><!--MD5=[7372c784d7525e52e863be2b44848b63]
entity stepDefs--><g id="elem_stepDefs"><rect fill="#F8C291" height="68.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="114" x="23" y="131.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="33" y="154.792">Cucumber</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="33" y="171.0889">Domain Step</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="33" y="187.3857">Definitions</text></g><!--MD5=[aea9443ce97642cf67741219a9cddff6]
class PortefeuilleDejaExistantException--><g id="elem_PortefeuilleDejaExistantException"><rect codeLine="27" fill="#F1F1F1" height="32" id="PortefeuilleDejaExistantException" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="327" y="313.2969"/><ellipse cx="342" cy="329.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M344.3438,324.9688 C343.4063,324.5313 342.8125,324.3906 341.9375,324.3906 C339.3125,324.3906 337.3125,326.4688 337.3125,329.1875 L337.3125,330.3125 C337.3125,332.8906 339.4219,334.7813 342.3125,334.7813 C343.5313,334.7813 344.6875,334.4844 345.4375,333.9375 C346.0156,333.5313 346.3438,333.0781 346.3438,332.6875 C346.3438,332.2344 345.9531,331.8438 345.4844,331.8438 C345.2656,331.8438 345.0625,331.9219 344.875,332.1094 C344.4219,332.5938 344.4219,332.5938 344.2344,332.6875 C343.8125,332.9531 343.125,333.0781 342.3594,333.0781 C340.3125,333.0781 339.0156,331.9844 339.0156,330.2813 L339.0156,329.1875 C339.0156,327.4063 340.2656,326.0938 342,326.0938 C342.5781,326.0938 343.1875,326.25 343.6563,326.5 C344.1406,326.7813 344.3125,327 344.4063,327.4063 C344.4688,327.8125 344.5,327.9375 344.6406,328.0625 C344.7813,328.2031 345.0156,328.3125 345.2344,328.3125 C345.5,328.3125 345.7656,328.1719 345.9375,327.9531 C346.0469,327.7969 346.0781,327.6094 346.0781,327.1875 L346.0781,325.7656 C346.0781,325.3281 346.0625,325.2031 345.9688,325.0469 C345.8125,324.7813 345.5313,324.6406 345.2344,324.6406 C344.9375,324.6406 344.7344,324.7344 344.5156,325.0469 L344.3438,324.9688 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="248" x="356" y="334.1436">PortefeuilleDejaExistantException</text></g><!--MD5=[e0e92636e5e3ba6a58023ec526db7d5e]
class PortefeuilleNonGereException--><g id="elem_PortefeuilleNonGereException"><rect codeLine="28" fill="#F1F1F1" height="32" id="PortefeuilleNonGereException" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="252" x="341" y="246.2969"/><ellipse cx="356" cy="262.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M358.3438,257.9688 C357.4063,257.5313 356.8125,257.3906 355.9375,257.3906 C353.3125,257.3906 351.3125,259.4688 351.3125,262.1875 L351.3125,263.3125 C351.3125,265.8906 353.4219,267.7813 356.3125,267.7813 C357.5313,267.7813 358.6875,267.4844 359.4375,266.9375 C360.0156,266.5313 360.3438,266.0781 360.3438,265.6875 C360.3438,265.2344 359.9531,264.8438 359.4844,264.8438 C359.2656,264.8438 359.0625,264.9219 358.875,265.1094 C358.4219,265.5938 358.4219,265.5938 358.2344,265.6875 C357.8125,265.9531 357.125,266.0781 356.3594,266.0781 C354.3125,266.0781 353.0156,264.9844 353.0156,263.2813 L353.0156,262.1875 C353.0156,260.4063 354.2656,259.0938 356,259.0938 C356.5781,259.0938 357.1875,259.25 357.6563,259.5 C358.1406,259.7813 358.3125,260 358.4063,260.4063 C358.4688,260.8125 358.5,260.9375 358.6406,261.0625 C358.7813,261.2031 359.0156,261.3125 359.2344,261.3125 C359.5,261.3125 359.7656,261.1719 359.9375,260.9531 C360.0469,260.7969 360.0781,260.6094 360.0781,260.1875 L360.0781,258.7656 C360.0781,258.3281 360.0625,258.2031 359.9688,258.0469 C359.8125,257.7813 359.5313,257.6406 359.2344,257.6406 C358.9375,257.6406 358.7344,257.7344 358.5156,258.0469 L358.3438,257.9688 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="370" y="267.1436">PortefeuilleNonGereException</text></g><!--MD5=[8f24a0ae3e3eeca727ae9e78fab7990f]
class Courtage--><g id="elem_Courtage"><rect codeLine="29" fill="#F8C291" height="32" id="Courtage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="796.5" y="96.2969"/><ellipse cx="811.5" cy="112.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M813.8438,107.9688 C812.9063,107.5313 812.3125,107.3906 811.4375,107.3906 C808.8125,107.3906 806.8125,109.4688 806.8125,112.1875 L806.8125,113.3125 C806.8125,115.8906 808.9219,117.7813 811.8125,117.7813 C813.0313,117.7813 814.1875,117.4844 814.9375,116.9375 C815.5156,116.5313 815.8438,116.0781 815.8438,115.6875 C815.8438,115.2344 815.4531,114.8438 814.9844,114.8438 C814.7656,114.8438 814.5625,114.9219 814.375,115.1094 C813.9219,115.5938 813.9219,115.5938 813.7344,115.6875 C813.3125,115.9531 812.625,116.0781 811.8594,116.0781 C809.8125,116.0781 808.5156,114.9844 808.5156,113.2813 L808.5156,112.1875 C808.5156,110.4063 809.7656,109.0938 811.5,109.0938 C812.0781,109.0938 812.6875,109.25 813.1563,109.5 C813.6406,109.7813 813.8125,110 813.9063,110.4063 C813.9688,110.8125 814,110.9375 814.1406,111.0625 C814.2813,111.2031 814.5156,111.3125 814.7344,111.3125 C815,111.3125 815.2656,111.1719 815.4375,110.9531 C815.5469,110.7969 815.5781,110.6094 815.5781,110.1875 L815.5781,108.7656 C815.5781,108.3281 815.5625,108.2031 815.4688,108.0469 C815.3125,107.7813 815.0313,107.6406 814.7344,107.6406 C814.4375,107.6406 814.2344,107.7344 814.0156,108.0469 L813.8438,107.9688 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="825.5" y="117.1436">Courtage</text></g><!--MD5=[4d94ef589ea4e6d49ac79f16ccd71851]
class Portefeuille--><g id="elem_Portefeuille"><rect codeLine="30" fill="#F8C291" height="72.5938" id="Portefeuille" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="225" x="733" y="271.7969"/><ellipse cx="799.25" cy="287.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M801.5938,283.4688 C800.6563,283.0313 800.0625,282.8906 799.1875,282.8906 C796.5625,282.8906 794.5625,284.9688 794.5625,287.6875 L794.5625,288.8125 C794.5625,291.3906 796.6719,293.2813 799.5625,293.2813 C800.7813,293.2813 801.9375,292.9844 802.6875,292.4375 C803.2656,292.0313 803.5938,291.5781 803.5938,291.1875 C803.5938,290.7344 803.2031,290.3438 802.7344,290.3438 C802.5156,290.3438 802.3125,290.4219 802.125,290.6094 C801.6719,291.0938 801.6719,291.0938 801.4844,291.1875 C801.0625,291.4531 800.375,291.5781 799.6094,291.5781 C797.5625,291.5781 796.2656,290.4844 796.2656,288.7813 L796.2656,287.6875 C796.2656,285.9063 797.5156,284.5938 799.25,284.5938 C799.8281,284.5938 800.4375,284.75 800.9063,285 C801.3906,285.2813 801.5625,285.5 801.6563,285.9063 C801.7188,286.3125 801.75,286.4375 801.8906,286.5625 C802.0313,286.7031 802.2656,286.8125 802.4844,286.8125 C802.75,286.8125 803.0156,286.6719 803.1875,286.4531 C803.2969,286.2969 803.3281,286.1094 803.3281,285.6875 L803.3281,284.2656 C803.3281,283.8281 803.3125,283.7031 803.2188,283.5469 C803.0625,283.2813 802.7813,283.1406 802.4844,283.1406 C802.1875,283.1406 801.9844,283.2344 801.7656,283.5469 L801.5938,283.4688 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="819.75" y="292.6436">Portefeuille</text><line style="stroke:#181818;stroke-width:0.5;" x1="734" x2="957" y1="303.7969" y2="303.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="739" y="320.792">String nom</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="739" y="337.0889">Map&lt;String, Integer&gt; actions</text></g><!--MD5=[44a6e07bf3cdcb710ae98a593f44f4e4]
class Achat--><g id="elem_Achat"><rect codeLine="34" fill="#F1F1F1" height="72.5938" id="Achat" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="793" y="163.7969"/><ellipse cx="821.95" cy="179.7969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M824.2938,175.4688 C823.3563,175.0313 822.7625,174.8906 821.8875,174.8906 C819.2625,174.8906 817.2625,176.9688 817.2625,179.6875 L817.2625,180.8125 C817.2625,183.3906 819.3719,185.2813 822.2625,185.2813 C823.4813,185.2813 824.6375,184.9844 825.3875,184.4375 C825.9656,184.0313 826.2938,183.5781 826.2938,183.1875 C826.2938,182.7344 825.9031,182.3438 825.4344,182.3438 C825.2156,182.3438 825.0125,182.4219 824.825,182.6094 C824.3719,183.0938 824.3719,183.0938 824.1844,183.1875 C823.7625,183.4531 823.075,183.5781 822.3094,183.5781 C820.2625,183.5781 818.9656,182.4844 818.9656,180.7813 L818.9656,179.6875 C818.9656,177.9063 820.2156,176.5938 821.95,176.5938 C822.5281,176.5938 823.1375,176.75 823.6063,177 C824.0906,177.2813 824.2625,177.5 824.3563,177.9063 C824.4188,178.3125 824.45,178.4375 824.5906,178.5625 C824.7313,178.7031 824.9656,178.8125 825.1844,178.8125 C825.45,178.8125 825.7156,178.6719 825.8875,178.4531 C825.9969,178.2969 826.0281,178.1094 826.0281,177.6875 L826.0281,176.2656 C826.0281,175.8281 826.0125,175.7031 825.9188,175.5469 C825.7625,175.2813 825.4813,175.1406 825.1844,175.1406 C824.8875,175.1406 824.6844,175.2344 824.4656,175.5469 L824.2938,175.4688 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="839.05" y="184.6436">Achat</text><line style="stroke:#181818;stroke-width:0.5;" x1="794" x2="897" y1="195.7969" y2="195.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="799" y="212.792">String action</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="799" y="229.0889">int nombre</text></g><!--MD5=[187da8343eacb1c1d37e24ed685d15af]
class ServiceCourtage--><g id="elem_ServiceCourtage"><rect codeLine="39" fill="#F8C291" height="88.8906" id="ServiceCourtage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="406" x="264" y="121.7969"/><ellipse cx="403.25" cy="137.7969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M404.2031,134.5781 L405.9219,134.5781 C406.3125,134.5781 406.5,134.5469 406.625,134.4688 C406.8906,134.3125 407.0313,134.0313 407.0313,133.7344 C407.0313,133.4688 406.9219,133.2031 406.6875,133.0313 C406.5156,132.9219 406.375,132.8906 405.9219,132.8906 L400.7813,132.8906 C400.3438,132.8906 400.2188,132.9063 400.0625,133 C399.8125,133.1563 399.6563,133.4531 399.6563,133.7344 C399.6563,134.0156 399.7969,134.2656 400.0156,134.4375 C400.1719,134.5469 400.3594,134.5781 400.7813,134.5781 L402.5,134.5781 L402.5,141.0938 L400.7813,141.0938 C400.3438,141.0938 400.2188,141.1094 400.0625,141.2188 C399.8125,141.375 399.6563,141.6563 399.6563,141.9531 C399.6563,142.2031 399.7969,142.4688 400.0156,142.625 C400.1719,142.75 400.375,142.7969 400.7813,142.7969 L405.9219,142.7969 C406.6719,142.7969 407.0313,142.5156 407.0313,141.9531 C407.0313,141.6719 406.9219,141.4219 406.6875,141.25 C406.5156,141.125 406.375,141.0938 405.9219,141.0938 L404.2031,141.0938 L404.2031,134.5781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="119" x="423.75" y="142.6436">ServiceCourtage</text><line style="stroke:#181818;stroke-width:0.5;" x1="265" x2="669" y1="153.7969" y2="153.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="384" x="270" y="170.792">Portefeuille creerPortefeuille(String nomPortefeuille)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="269" x="270" y="187.0889">boolean gere(String nomPortefeuille)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="394" x="270" y="203.3857">void ajouteAction(String nomPortefeuille, Achat achat)</text></g><!--MD5=[698309b2215fa8d18e9c50d85999959a]
class PortefeuilleRepository--><g id="elem_PortefeuilleRepository"><rect codeLine="46" fill="#F1F1F1" height="32" id="PortefeuilleRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="1059" y="188.2969"/><ellipse cx="1074" cy="204.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1074.9531,201.0781 L1076.6719,201.0781 C1077.0625,201.0781 1077.25,201.0469 1077.375,200.9688 C1077.6406,200.8125 1077.7813,200.5313 1077.7813,200.2344 C1077.7813,199.9688 1077.6719,199.7031 1077.4375,199.5313 C1077.2656,199.4219 1077.125,199.3906 1076.6719,199.3906 L1071.5313,199.3906 C1071.0938,199.3906 1070.9688,199.4063 1070.8125,199.5 C1070.5625,199.6563 1070.4063,199.9531 1070.4063,200.2344 C1070.4063,200.5156 1070.5469,200.7656 1070.7656,200.9375 C1070.9219,201.0469 1071.1094,201.0781 1071.5313,201.0781 L1073.25,201.0781 L1073.25,207.5938 L1071.5313,207.5938 C1071.0938,207.5938 1070.9688,207.6094 1070.8125,207.7188 C1070.5625,207.875 1070.4063,208.1563 1070.4063,208.4531 C1070.4063,208.7031 1070.5469,208.9688 1070.7656,209.125 C1070.9219,209.25 1071.125,209.2969 1071.5313,209.2969 L1076.6719,209.2969 C1077.4219,209.2969 1077.7813,209.0156 1077.7813,208.4531 C1077.7813,208.1719 1077.6719,207.9219 1077.4375,207.75 C1077.2656,207.625 1077.125,207.5938 1076.6719,207.5938 L1074.9531,207.5938 L1074.9531,201.0781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="157" x="1088" y="209.1436">PortefeuilleRepository</text></g><!--MD5=[eee557b54314ae5ef55878b38fb2d47a]
class ServiceBourse--><g id="elem_ServiceBourse"><rect codeLine="47" fill="#B8E994" height="32" id="ServiceBourse" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1086" y="121.2969"/><ellipse cx="1101" cy="137.2969" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1101.9531,134.0781 L1103.6719,134.0781 C1104.0625,134.0781 1104.25,134.0469 1104.375,133.9688 C1104.6406,133.8125 1104.7813,133.5313 1104.7813,133.2344 C1104.7813,132.9688 1104.6719,132.7031 1104.4375,132.5313 C1104.2656,132.4219 1104.125,132.3906 1103.6719,132.3906 L1098.5313,132.3906 C1098.0938,132.3906 1097.9688,132.4063 1097.8125,132.5 C1097.5625,132.6563 1097.4063,132.9531 1097.4063,133.2344 C1097.4063,133.5156 1097.5469,133.7656 1097.7656,133.9375 C1097.9219,134.0469 1098.1094,134.0781 1098.5313,134.0781 L1100.25,134.0781 L1100.25,140.5938 L1098.5313,140.5938 C1098.0938,140.5938 1097.9688,140.6094 1097.8125,140.7188 C1097.5625,140.875 1097.4063,141.1563 1097.4063,141.4531 C1097.4063,141.7031 1097.5469,141.9688 1097.7656,142.125 C1097.9219,142.25 1098.125,142.2969 1098.5313,142.2969 L1103.6719,142.2969 C1104.4219,142.2969 1104.7813,142.0156 1104.7813,141.4531 C1104.7813,141.1719 1104.6719,140.9219 1104.4375,140.75 C1104.2656,140.625 1104.125,140.5938 1103.6719,140.5938 L1101.9531,140.5938 L1101.9531,134.0781 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="103" x="1115" y="142.1436">ServiceBourse</text></g><!--MD5=[ca6cee28dcedad29d01c31626d25d3fe]
class PortefeuilleRepositoryMock--><g id="elem_PortefeuilleRepositoryMock"><rect codeLine="52" fill="#F1F1F1" height="32" id="PortefeuilleRepositoryMock" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="1337" y="188.2969"/><ellipse cx="1352" cy="204.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1354.3438,199.9688 C1353.4063,199.5313 1352.8125,199.3906 1351.9375,199.3906 C1349.3125,199.3906 1347.3125,201.4688 1347.3125,204.1875 L1347.3125,205.3125 C1347.3125,207.8906 1349.4219,209.7813 1352.3125,209.7813 C1353.5313,209.7813 1354.6875,209.4844 1355.4375,208.9375 C1356.0156,208.5313 1356.3438,208.0781 1356.3438,207.6875 C1356.3438,207.2344 1355.9531,206.8438 1355.4844,206.8438 C1355.2656,206.8438 1355.0625,206.9219 1354.875,207.1094 C1354.4219,207.5938 1354.4219,207.5938 1354.2344,207.6875 C1353.8125,207.9531 1353.125,208.0781 1352.3594,208.0781 C1350.3125,208.0781 1349.0156,206.9844 1349.0156,205.2813 L1349.0156,204.1875 C1349.0156,202.4063 1350.2656,201.0938 1352,201.0938 C1352.5781,201.0938 1353.1875,201.25 1353.6563,201.5 C1354.1406,201.7813 1354.3125,202 1354.4063,202.4063 C1354.4688,202.8125 1354.5,202.9375 1354.6406,203.0625 C1354.7813,203.2031 1355.0156,203.3125 1355.2344,203.3125 C1355.5,203.3125 1355.7656,203.1719 1355.9375,202.9531 C1356.0469,202.7969 1356.0781,202.6094 1356.0781,202.1875 L1356.0781,200.7656 C1356.0781,200.3281 1356.0625,200.2031 1355.9688,200.0469 C1355.8125,199.7813 1355.5313,199.6406 1355.2344,199.6406 C1354.9375,199.6406 1354.7344,199.7344 1354.5156,200.0469 L1354.3438,199.9688 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="1366" y="209.1436">PortefeuilleRepositoryMock</text></g><!--MD5=[3a0046c2b15d4156a5d73f55f1f6c326]
class ServiceBourseMock--><g id="elem_ServiceBourseMock"><rect codeLine="53" fill="#B8E994" height="32" id="ServiceBourseMock" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="172" x="1367.5" y="121.2969"/><ellipse cx="1382.5" cy="137.2969" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1384.8438,132.9688 C1383.9063,132.5313 1383.3125,132.3906 1382.4375,132.3906 C1379.8125,132.3906 1377.8125,134.4688 1377.8125,137.1875 L1377.8125,138.3125 C1377.8125,140.8906 1379.9219,142.7813 1382.8125,142.7813 C1384.0313,142.7813 1385.1875,142.4844 1385.9375,141.9375 C1386.5156,141.5313 1386.8438,141.0781 1386.8438,140.6875 C1386.8438,140.2344 1386.4531,139.8438 1385.9844,139.8438 C1385.7656,139.8438 1385.5625,139.9219 1385.375,140.1094 C1384.9219,140.5938 1384.9219,140.5938 1384.7344,140.6875 C1384.3125,140.9531 1383.625,141.0781 1382.8594,141.0781 C1380.8125,141.0781 1379.5156,139.9844 1379.5156,138.2813 L1379.5156,137.1875 C1379.5156,135.4063 1380.7656,134.0938 1382.5,134.0938 C1383.0781,134.0938 1383.6875,134.25 1384.1563,134.5 C1384.6406,134.7813 1384.8125,135 1384.9063,135.4063 C1384.9688,135.8125 1385,135.9375 1385.1406,136.0625 C1385.2813,136.2031 1385.5156,136.3125 1385.7344,136.3125 C1386,136.3125 1386.2656,136.1719 1386.4375,135.9531 C1386.5469,135.7969 1386.5781,135.6094 1386.5781,135.1875 L1386.5781,133.7656 C1386.5781,133.3281 1386.5625,133.2031 1386.4688,133.0469 C1386.3125,132.7813 1386.0313,132.6406 1385.7344,132.6406 C1385.4375,132.6406 1385.2344,132.7344 1385.0156,133.0469 L1384.8438,132.9688 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="1396.5" y="142.1436">ServiceBourseMock</text></g><!--MD5=[026d1740de6b1c0d224da24d56cdf520]
reverse link ServiceCourtage to Courtage--><g id="link_ServiceCourtage_Courtage"><path codeLine="56" d="M689.868,134.4749 C730.009,128.7179 768.042,123.2629 796.345,119.2039 " fill="none" id="ServiceCourtage-backto-Courtage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="690.818,141.4109,670.027,137.3209,688.83,127.5519,690.818,141.4109" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3c496331fb430fc8ed0fed28d53632ce]
link Courtage to PortefeuilleRepository--><g id="link_Courtage_PortefeuilleRepository"><path codeLine="57" d="M894.542,126.8759 C914.219,132.8649 937.21,139.8869 958,146.2969 C992.25,156.8579 1000.67,159.9809 1035,170.2969 C1053.22,175.7709 1073.07,181.5779 1091.19,186.8129 " fill="none" id="Courtage-to-PortefeuilleRepository" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1096.25,188.2739,1088.7111,181.9363,1091.4458,186.8882,1086.494,189.623,1096.25,188.2739" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="989" y="152.3638">utilise</text></g><!--MD5=[297b39777e310712c350aac214e02202]
link Courtage to ServiceBourse--><g id="link_Courtage_ServiceBourse"><path codeLine="58" d="M894.649,116.2309 C944.643,120.3149 1023.41,126.7509 1080.75,131.4349 " fill="none" id="Courtage-to-ServiceBourse" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1085.88,131.8539,1077.2424,127.1219,1080.8972,131.4396,1076.5795,135.0944,1085.88,131.8539" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="989" y="120.3638">utilise</text></g><!--MD5=[f247a1c6099a3d638dc68195c92659aa]
reverse link PortefeuilleRepository to PortefeuilleRepositoryMock--><g id="link_PortefeuilleRepository_PortefeuilleRepositoryMock"><path codeLine="59" d="M1268.55,204.2969 C1290.92,204.2969 1314.41,204.2969 1336.84,204.2969 " fill="none" id="PortefeuilleRepository-backto-PortefeuilleRepositoryMock" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1268.38,211.2969,1248.38,204.2969,1268.38,197.2969,1268.38,211.2969" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b945d686dcd7edb1f4198bcd37ea8240]
reverse link ServiceBourse to ServiceBourseMock--><g id="link_ServiceBourse_ServiceBourseMock"><path codeLine="60" d="M1241.07,137.2969 C1280.86,137.2969 1327.89,137.2969 1367.48,137.2969 " fill="none" id="ServiceBourse-backto-ServiceBourseMock" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1241.01,144.2969,1221.01,137.2969,1241.01,130.2969,1241.01,144.2969" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[cb6fe964e3efd7ee3874f9b157a2c407]
link stepDefs to ServiceCourtage--><g id="link_stepDefs_ServiceCourtage"><path codeLine="61" d="M137.395,166.2969 C170.276,166.2969 214.006,166.2969 258.802,166.2969 " fill="none" id="stepDefs-to-ServiceCourtage" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="263.986,166.2969,254.986,162.2969,258.986,166.2969,254.986,170.2969,263.986,166.2969" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="170" y="162.3638">utilise</text></g><!--MD5=[9672e799778e991f1b9687c9391a626a]
@startuml
skinparam packageStyle rectangle
skinparam package.backgroundColor white
hide empty members
hide stereotype
left to right direction
skinparam useBetaStyle true

<style>
.tests {
	BackgroundColor #e55039
	FontColor #FFFFFF
}
.ajout {
	BackgroundColor #b8e994
}
.modif {
	BackgroundColor #f8c291
}
</style>

title Étape 3
rectangle Tests <<tests>> {
	rectangle "Cucumber\nDomain Step\nDefinitions" as stepDefs <<modif>> {
	}
}
package Domaine <<Hexagon>> {
	class PortefeuilleDejaExistantException
	class PortefeuilleNonGereException
	class Courtage <<modif>>
	class Portefeuille <<modif>> {
		String nom
		Map<String, Integer> actions
	}
	class Achat {
		String action
		int nombre
	}
	package "Port primaire" {
		interface ServiceCourtage <<modif>> {
			Portefeuille creerPortefeuille(String nomPortefeuille)
			boolean gere(String nomPortefeuille)
			void ajouteAction(String nomPortefeuille, Achat achat)
		}
	}
	package "Port secondaire" {
		interface PortefeuilleRepository
		interface ServiceBourse <<ajout>>
    }
}

package Bouchons <<tests>> {
	class PortefeuilleRepositoryMock
	class ServiceBourseMock <<ajout>>
}

ServiceCourtage <|.. Courtage
Courtage ..>  PortefeuilleRepository : utilise
Courtage ..>  ServiceBourse : utilise
PortefeuilleRepository <|.. PortefeuilleRepositoryMock
ServiceBourse <|.. ServiceBourseMock
stepDefs ..> ServiceCourtage : utilise
@enduml

PlantUML version 1.2022.4beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>